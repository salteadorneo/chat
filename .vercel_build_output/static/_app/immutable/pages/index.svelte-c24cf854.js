import{S,i as b,s as k,e as l,c as m,a as h,d as p,b as f,g as R,H as g,P as y,Q as v,E as _,R as T,L as w,v as x,w as A,x as C,y as H,q as L,o as O,B as U}from"../chunks/index-8d614d0f.js";import{u as $,g as N}from"../chunks/navigation-27e09178.js";import{p as q}from"../chunks/stores-b12f77dd.js";import{g as z}from"../chunks/user-c45a3573.js";import"../chunks/singletons-4a6438bd.js";function I(o){let t,s,e,r,a;return{c(){t=l("section"),s=l("form"),e=l("input"),this.h()},l(n){t=m(n,"SECTION",{});var i=h(t);s=m(i,"FORM",{class:!0});var c=h(s);e=m(c,"INPUT",{type:!0,placeholder:!0}),c.forEach(p),i.forEach(p),this.h()},h(){f(e,"type","text"),f(e,"placeholder","Apodo"),f(s,"class","svelte-wwrzy8")},m(n,i){R(n,t,i),g(t,s),g(s,e),y(e,o[0]),r||(a=[v(e,"input",o[2]),v(s,"submit",o[1])],r=!0)},p(n,[i]){i&1&&e.value!==n[0]&&y(e,n[0])},i:_,o:_,d(n){n&&p(t),r=!1,T(a)}}}function M(o,t,s){var d;let e,r;w(o,$,u=>s(3,e=u)),w(o,q,u=>s(4,r=u));let a="";const n=(d=r.params.room)!=null?d:"";x(async()=>{});async function i(u){u.preventDefault(),s(0,a=a.toLowerCase().trim());const E=await z({token:`anonymous_${a}`});$.set({name:a,avatar:`https://i.pravatar.cc/150?u=${a}`,email:"a@a.com",token:E,userName:a}),localStorage.user=JSON.stringify(e),n?N("/"+n):N("/nuevo-juego")}function c(){a=this.value,s(0,a)}return[a,i,c]}class P extends S{constructor(t){super(),b(this,t,M,I,k,{})}}function j(o){let t,s;return t=new P({}),{c(){A(t.$$.fragment)},l(e){C(t.$$.fragment,e)},m(e,r){H(t,e,r),s=!0},p:_,i(e){s||(L(t.$$.fragment,e),s=!0)},o(e){O(t.$$.fragment,e),s=!1},d(e){U(t,e)}}}class G extends S{constructor(t){super(),b(this,t,null,j,k,{})}}export{G as default};
