import{S as H,i as L,s as F,e as _,t as C,k as I,c as b,a as E,h as O,d as m,m as N,b as h,M as re,g as S,H as f,E as M,L as J,w as A,x as R,y as V,q as j,o as B,B as G,n as se,p as ae,N as ee,v as $e,u as Ee,O as we,P as te,Q as P,R as Z,T as K,j as ie,l as X}from"../chunks/index-8d614d0f.js";import{p as qe}from"../chunks/stores-b12f77dd.js";import{u as ne,r as ze,g as Ie,d as Ne,l as Te,i as Ce}from"../chunks/chat-865b4333.js";import{u as le,a as U,g as W}from"../chunks/navigation-27e09178.js";import"../chunks/browser-3fd718e3.js";import"../chunks/singletons-4a6438bd.js";function Oe(l){let e,n,t,a,i,s;return{c(){e=_("div"),n=_("small"),t=C(l[1]),a=I(),i=_("p"),s=C(l[0]),this.h()},l(o){e=b(o,"DIV",{class:!0});var r=E(e);n=b(r,"SMALL",{class:!0});var c=E(n);t=O(c,l[1]),c.forEach(m),a=N(r),i=b(r,"P",{class:!0});var p=E(i);s=O(p,l[0]),p.forEach(m),r.forEach(m),this.h()},h(){h(n,"class","svelte-1dpdhk8"),h(i,"class","svelte-1dpdhk8"),h(e,"class",re(`${l[2]}`)+" svelte-1dpdhk8")},m(o,r){S(o,e,r),f(e,n),f(n,t),f(e,a),f(e,i),f(i,s)},p:M,i:M,o:M,d(o){o&&m(e)}}}function Se(l,e,n){let t;J(l,le,r=>n(4,t=r));let{message:a}=e;const{body:i,author:s}=a;let o=a.author===(t==null?void 0:t.userName)?"right":"left";return l.$$set=r=>{"message"in r&&n(3,a=r.message)},[i,s,o,a]}class Me extends H{constructor(e){super(),L(this,e,Se,Oe,F,{message:3})}}function pe(l,e,n){const t=l.slice();return t[4]=e[n],t}function de(l){let e,n;return e=new Me({props:{message:l[4]}}),{c(){A(e.$$.fragment)},l(t){R(e.$$.fragment,t)},m(t,a){V(e,t,a),n=!0},p(t,a){const i={};a&2&&(i.message=t[4]),e.$set(i)},i(t){n||(j(e.$$.fragment,t),n=!0)},o(t){B(e.$$.fragment,t),n=!1},d(t){G(e,t)}}}function je(l){let e,n,t=l[1],a=[];for(let s=0;s<t.length;s+=1)a[s]=de(pe(l,t,s));const i=s=>B(a[s],1,1,()=>{a[s]=null});return{c(){e=_("div");for(let s=0;s<a.length;s+=1)a[s].c();this.h()},l(s){e=b(s,"DIV",{class:!0});var o=E(e);for(let r=0;r<a.length;r+=1)a[r].l(o);o.forEach(m),this.h()},h(){h(e,"class","messages svelte-1wxuac")},m(s,o){S(s,e,o);for(let r=0;r<a.length;r+=1)a[r].m(e,null);l[2](e),n=!0},p(s,[o]){if(o&2){t=s[1];let r;for(r=0;r<t.length;r+=1){const c=pe(s,t,r);a[r]?(a[r].p(c,o),j(a[r],1)):(a[r]=de(c),a[r].c(),j(a[r],1),a[r].m(e,null))}for(se(),r=t.length;r<a.length;r+=1)i(r);ae()}},i(s){if(!n){for(let o=0;o<t.length;o+=1)j(a[o]);n=!0}},o(s){a=a.filter(Boolean);for(let o=0;o<a.length;o+=1)B(a[o]);n=!1},d(s){s&&m(e),ee(a,s),l[2](null)}}}function De(l,e,n){let t;J(l,U,o=>n(3,t=o));let a,i=[];$e(async()=>{const o=await t.getMessages();n(1,i=o.items),t.on("messageAdded",r=>{n(1,i=[...i,r])})}),Ee(()=>{a.scrollTo(0,a.scrollHeight)});function s(o){we[o?"unshift":"push"](()=>{a=o,n(0,a)})}return[a,i,s]}class Be extends H{constructor(e){super(),L(this,e,De,je,F,{})}}function Pe(l){let e,n,t,a,i,s,o,r;return{c(){e=_("footer"),n=_("form"),t=_("input"),a=I(),i=_("button"),s=C("Enviar"),this.h()},l(c){e=b(c,"FOOTER",{class:!0});var p=E(e);n=b(p,"FORM",{class:!0});var u=E(n);t=b(u,"INPUT",{type:!0,placeholder:!0,class:!0}),a=N(u),i=b(u,"BUTTON",{});var k=E(i);s=O(k,"Enviar"),k.forEach(m),u.forEach(m),p.forEach(m),this.h()},h(){h(t,"type","text"),h(t,"placeholder","Escribe un mensaje aqu\xED"),h(t,"class","svelte-dfsalb"),h(n,"class","svelte-dfsalb"),h(e,"class","svelte-dfsalb")},m(c,p){S(c,e,p),f(e,n),f(n,t),te(t,l[0]),f(n,a),f(n,i),f(i,s),o||(r=[P(window,"keydown",l[2]),P(t,"input",l[3]),P(n,"submit",l[1])],o=!0)},p(c,[p]){p&1&&t.value!==c[0]&&te(t,c[0])},i:M,o:M,d(c){c&&m(e),o=!1,Z(r)}}}function Ue(l,e,n){let t;J(l,U,r=>n(4,t=r));let a="";function i(r){r&&r.preventDefault(),n(0,a=a.trim()),a&&(t.sendMessage(a),n(0,a=""))}const s=r=>{r.key==="Enter"&&i(null)};function o(){a=this.value,n(0,a)}return[a,i,s,o]}class Ae extends H{constructor(e){super(),L(this,e,Ue,Pe,F,{})}}var oe="/_app/immutable/assets/Hearts-eafdf310.svg",ce="/_app/immutable/assets/Clubs-aa687fbf.svg",ue="/_app/immutable/assets/Spades-f129333e.svg",fe="/_app/immutable/assets/Diamonds-131322d2.svg";function ve(l,e,n){const t=l.slice();return t[3]=e[n],t[5]=n,t}function me(l){let e,n,t,a,i;return{c(){e=_("div"),n=_("img"),this.h()},l(s){e=b(s,"DIV",{class:!0,title:!0});var o=E(e);n=b(o,"IMG",{src:!0,alt:!0,class:!0}),o.forEach(m),this.h()},h(){K(n.src,t=l[2][Math.floor(Math.random()*l[2].length)])||h(n,"src",t),h(n,"alt",""),h(n,"class","svelte-1k4ut64"),h(e,"class",a=re(`participant ${l[0]}`)+" svelte-1k4ut64"),h(e,"title",i=l[3][1].identity)},m(s,o){S(s,e,o),f(e,n)},p(s,o){o&1&&a!==(a=re(`participant ${s[0]}`)+" svelte-1k4ut64")&&h(e,"class",a),o&2&&i!==(i=s[3][1].identity)&&h(e,"title",i)},d(s){s&&m(e)}}}function Re(l){let e,n=[...l[1].participants],t=[];for(let a=0;a<n.length;a+=1)t[a]=me(ve(l,n,a));return{c(){e=_("section");for(let a=0;a<t.length;a+=1)t[a].c()},l(a){e=b(a,"SECTION",{});var i=E(e);for(let s=0;s<t.length;s+=1)t[s].l(i);i.forEach(m)},m(a,i){S(a,e,i);for(let s=0;s<t.length;s+=1)t[s].m(e,null)},p(a,[i]){if(i&7){n=[...a[1].participants];let s;for(s=0;s<n.length;s+=1){const o=ve(a,n,s);t[s]?t[s].p(o,i):(t[s]=me(o),t[s].c(),t[s].m(e,null))}for(;s<t.length;s+=1)t[s].d(1);t.length=n.length}},i:M,o:M,d(a){a&&m(e),ee(t,a)}}}function Ve(l,e,n){let t;J(l,U,s=>n(1,t=s));const a=[oe,ue,ce,fe];let{size:i=""}=e;return l.$$set=s=>{"size"in s&&n(0,i=s.size)},[i,t,a]}class xe extends H{constructor(e){super(),L(this,e,Ve,Re,F,{size:0})}}function Ge(l){let e,n,t,a,i,s,o,r,c,p,u,k,v,$,y,T,w,d,q,g;return q=new xe({}),{c(){e=_("div"),n=_("div"),t=_("img"),i=I(),s=_("img"),r=I(),c=_("img"),u=I(),k=_("img"),$=I(),y=_("footer"),T=_("p"),w=C("Esperando a los jugadores"),d=I(),A(q.$$.fragment),this.h()},l(x){e=b(x,"DIV",{class:!0});var z=E(e);n=b(z,"DIV",{class:!0});var D=E(n);t=b(D,"IMG",{src:!0,alt:!0,class:!0}),i=N(D),s=b(D,"IMG",{src:!0,alt:!0,class:!0}),r=N(D),c=b(D,"IMG",{src:!0,alt:!0,class:!0}),u=N(D),k=b(D,"IMG",{src:!0,alt:!0,class:!0}),D.forEach(m),$=N(z),y=b(z,"FOOTER",{class:!0});var Q=E(y);T=b(Q,"P",{});var Y=E(T);w=O(Y,"Esperando a los jugadores"),Y.forEach(m),d=N(Q),R(q.$$.fragment,Q),Q.forEach(m),z.forEach(m),this.h()},h(){K(t.src,a=oe)||h(t,"src",a),h(t,"alt",""),h(t,"class","svelte-1ocfy4x"),K(s.src,o=ce)||h(s,"src",o),h(s,"alt",""),h(s,"class","svelte-1ocfy4x"),K(c.src,p=ue)||h(c,"src",p),h(c,"alt",""),h(c,"class","svelte-1ocfy4x"),K(k.src,v=fe)||h(k,"src",v),h(k,"alt",""),h(k,"class","svelte-1ocfy4x"),h(n,"class","spinner svelte-1ocfy4x"),h(y,"class","svelte-1ocfy4x"),h(e,"class","loading svelte-1ocfy4x")},m(x,z){S(x,e,z),f(e,n),f(n,t),f(n,i),f(n,s),f(n,r),f(n,c),f(n,u),f(n,k),f(e,$),f(e,y),f(y,T),f(T,w),f(y,d),V(q,y,null),g=!0},p:M,i(x){g||(j(q.$$.fragment,x),g=!0)},o(x){B(q.$$.fragment,x),g=!1},d(x){x&&m(e),G(q)}}}class He extends H{constructor(e){super(),L(this,e,null,Ge,F,{})}}function he(l,e,n){const t=l.slice();return t[1]=e[n],t[16]=n,t}function ge(l,e,n){const t=l.slice();return t[1]=e[n],t[16]=n,t}function _e(l){let e,n,t,a,i,s,o;function r(){return l[9](l[1])}function c(){return l[10](l[1])}return{c(){e=_("div"),n=_("button"),t=C("S"),a=_("button"),i=C("E"),this.h()},l(p){e=b(p,"DIV",{class:!0});var u=E(e);n=b(u,"BUTTON",{class:!0});var k=E(n);t=O(k,"S"),k.forEach(m),a=b(u,"BUTTON",{class:!0});var v=E(a);i=O(v,"E"),v.forEach(m),u.forEach(m),this.h()},h(){h(n,"class","svelte-ifqnzk"),h(a,"class","svelte-ifqnzk"),h(e,"class","actions svelte-ifqnzk")},m(p,u){S(p,e,u),f(e,n),f(n,t),f(e,a),f(a,i),s||(o=[P(n,"click",r),P(a,"click",c)],s=!0)},p(p,u){l=p},d(p){p&&m(e),s=!1,Z(o)}}}function be(l){let e,n,t,a,i,s=l[1][1].identity+"",o,r,c=l[3]!=l[1][1].identity&&_e(l);return{c(){e=_("div"),n=_("span"),t=_("img"),i=I(),o=C(s),r=I(),c&&c.c(),this.h()},l(p){e=b(p,"DIV",{class:!0});var u=E(e);n=b(u,"SPAN",{class:!0});var k=E(n);t=b(k,"IMG",{src:!0,alt:!0,class:!0}),k.forEach(m),i=N(u),o=O(u,s),r=N(u),c&&c.l(u),u.forEach(m),this.h()},h(){K(t.src,a=l[2][Math.floor(Math.random()*l[2].length)])||h(t,"src",a),h(t,"alt",""),h(t,"class","svelte-ifqnzk"),h(n,"class","svelte-ifqnzk"),h(e,"class","participant svelte-ifqnzk")},m(p,u){S(p,e,u),f(e,n),f(n,t),f(e,i),f(e,o),f(e,r),c&&c.m(e,null)},p(p,u){u&1&&s!==(s=p[1][1].identity+"")&&ie(o,s),p[3]!=p[1][1].identity?c?c.p(p,u):(c=_e(p),c.c(),c.m(e,null)):c&&(c.d(1),c=null)},d(p){p&&m(e),c&&c.d()}}}function ke(l){let e,n,t,a,i,s=l[1]+"",o,r,c,p,u,k,v,$;function y(){return l[11](l[1])}function T(){return l[12](l[1])}return{c(){e=_("div"),n=_("span"),t=_("img"),i=I(),o=C(s),r=_("div"),c=_("button"),p=C("S"),u=_("button"),k=C("E"),this.h()},l(w){e=b(w,"DIV",{class:!0});var d=E(e);n=b(d,"SPAN",{class:!0});var q=E(n);t=b(q,"IMG",{src:!0,alt:!0,class:!0}),q.forEach(m),i=N(d),o=O(d,s),r=b(d,"DIV",{class:!0});var g=E(r);c=b(g,"BUTTON",{class:!0});var x=E(c);p=O(x,"S"),x.forEach(m),u=b(g,"BUTTON",{class:!0});var z=E(u);k=O(z,"E"),z.forEach(m),g.forEach(m),d.forEach(m),this.h()},h(){K(t.src,a=l[2][Math.floor(Math.random()*l[2].length)])||h(t,"src",a),h(t,"alt",""),h(t,"class","svelte-ifqnzk"),h(n,"class","svelte-ifqnzk"),h(c,"class","svelte-ifqnzk"),h(u,"class","svelte-ifqnzk"),h(r,"class","actions svelte-ifqnzk"),h(e,"class","participant noregister svelte-ifqnzk")},m(w,d){S(w,e,d),f(e,n),f(n,t),f(e,i),f(e,o),f(e,r),f(r,c),f(c,p),f(r,u),f(u,k),v||($=[P(c,"click",y),P(u,"click",T)],v=!0)},p(w,d){l=w,d&1&&s!==(s=l[1]+"")&&ie(o,s)},d(w){w&&m(e),v=!1,Z($)}}}function Le(l){let e,n,t,a,i,s,o,r,c,p,u,k,v,$=[...l[0].participants],y=[];for(let d=0;d<$.length;d+=1)y[d]=be(ge(l,$,d));let T=l[0].attributes.invitations||[],w=[];for(let d=0;d<T.length;d+=1)w[d]=ke(he(l,T,d));return{c(){e=_("div"),n=_("h3"),t=C("Jugadores"),a=I();for(let d=0;d<y.length;d+=1)y[d].c();i=I();for(let d=0;d<w.length;d+=1)w[d].c();s=I(),o=_("form"),r=_("button"),c=C("+"),p=I(),u=_("input"),this.h()},l(d){e=b(d,"DIV",{});var q=E(e);n=b(q,"H3",{});var g=E(n);t=O(g,"Jugadores"),g.forEach(m),a=N(q);for(let D=0;D<y.length;D+=1)y[D].l(q);i=N(q);for(let D=0;D<w.length;D+=1)w[D].l(q);s=N(q),o=b(q,"FORM",{class:!0});var x=E(o);r=b(x,"BUTTON",{class:!0});var z=E(r);c=O(z,"+"),z.forEach(m),p=N(x),u=b(x,"INPUT",{type:!0,placeholder:!0,class:!0}),x.forEach(m),q.forEach(m),this.h()},h(){h(r,"class","svelte-ifqnzk"),h(u,"type","text"),h(u,"placeholder","A\xF1adir jugador"),u.autofocus=!0,h(u,"class","svelte-ifqnzk"),h(o,"class","svelte-ifqnzk")},m(d,q){S(d,e,q),f(e,n),f(n,t),f(e,a);for(let g=0;g<y.length;g+=1)y[g].m(e,null);f(e,i);for(let g=0;g<w.length;g+=1)w[g].m(e,null);f(e,s),f(e,o),f(o,r),f(r,c),f(o,p),f(o,u),te(u,l[1]),u.focus(),k||(v=[P(u,"input",l[13]),P(o,"submit",l[4])],k=!0)},p(d,[q]){if(q&173){$=[...d[0].participants];let g;for(g=0;g<$.length;g+=1){const x=ge(d,$,g);y[g]?y[g].p(x,q):(y[g]=be(x),y[g].c(),y[g].m(e,i))}for(;g<y.length;g+=1)y[g].d(1);y.length=$.length}if(q&197){T=d[0].attributes.invitations||[];let g;for(g=0;g<T.length;g+=1){const x=he(d,T,g);w[g]?w[g].p(x,q):(w[g]=ke(x),w[g].c(),w[g].m(e,s))}for(;g<w.length;g+=1)w[g].d(1);w.length=T.length}q&2&&u.value!==d[1]&&te(u,d[1])},i:M,o:M,d(d){d&&m(e),ee(y,d),ee(w,d),k=!1,Z(v)}}}function Fe(l,e,n){let t;J(l,U,d=>n(0,t=d));const a=[oe,ue,ce,fe],i=t.createdBy;let s="";const o=()=>{t.attributes.invitations&&t.attributes.invitations.forEach(d=>{if(![...t.participants].includes(d))try{t.add(d)}catch{}})};let r;async function c(d){if(d.preventDefault(),n(1,s=s.toLowerCase().trim()),!(!s||s=="")){try{await t.add(s)}catch{const g=t.attributes.invitations||[];let x=await ne({room:t.uniqueName,params:{...t.attributes,invitations:g.concat([s])}});x&&U.set(x)}n(1,s="")}}async function p(d){await ze({room:t.uniqueName,participant:d})}async function u(d){const q=t.attributes.invitations||[];let g=await ne({room:t.uniqueName,params:{...t.attributes,invitations:q.filter(x=>x!=d)}});g&&U.set(g)}function k(d){const q=`${window.location.origin}/inv/${t.uniqueName}/${d}`;navigator.clipboard.writeText(q)}const v=d=>k(d[1].identity),$=d=>p(d[0]),y=d=>k(d),T=d=>u(d);function w(){s=this.value,n(1,s)}return l.$$.update=()=>{l.$$.dirty&256&&(clearInterval(r),n(8,r=setInterval(o,4e3)))},[t,s,a,i,c,p,u,k,r,v,$,y,T,w]}class Je extends H{constructor(e){super(),L(this,e,Fe,Le,F,{})}}function Qe(l){let e,n,t,a,i,s,o,r,c,p,u,k;return{c(){e=_("div"),n=_("section"),t=_("h3"),a=C("Reglas del juego"),i=I(),s=_("p"),o=C(`But I must explain to you how all this mistaken
			idea of denouncing pleasure and praising pain
			of the system, and expound the ateachings of
			the great explor`),r=I(),c=_("button"),p=C("Empezar"),this.h()},l(v){e=b(v,"DIV",{});var $=E(e);n=b($,"SECTION",{class:!0});var y=E(n);t=b(y,"H3",{});var T=E(t);a=O(T,"Reglas del juego"),T.forEach(m),i=N(y),s=b(y,"P",{class:!0});var w=E(s);o=O(w,`But I must explain to you how all this mistaken
			idea of denouncing pleasure and praising pain
			of the system, and expound the ateachings of
			the great explor`),w.forEach(m),r=N(y),c=b(y,"BUTTON",{class:!0});var d=E(c);p=O(d,"Empezar"),d.forEach(m),y.forEach(m),$.forEach(m),this.h()},h(){h(s,"class","svelte-4ayev0"),h(c,"class","svelte-4ayev0"),h(n,"class","svelte-4ayev0")},m(v,$){S(v,e,$),f(e,n),f(n,t),f(t,a),f(n,i),f(n,s),f(s,o),f(n,r),f(n,c),f(c,p),u||(k=P(c,"click",l[0]),u=!0)},p:M,i:M,o:M,d(v){v&&m(e),u=!1,k()}}}function Ke(l,e,n){let t;J(l,U,i=>n(1,t=i));function a(){ne({room:t.uniqueName,params:{...t.attributes,loading:!t.attributes.loading}})}return[a]}class We extends H{constructor(e){super(),L(this,e,Ke,Qe,F,{})}}function Xe(l){let e,n;return{c(){e=_("section"),n=C("\xBFCu\xE1ntos meses tienen 28 d\xEDas?"),this.h()},l(t){e=b(t,"SECTION",{class:!0});var a=E(e);n=O(a,"\xBFCu\xE1ntos meses tienen 28 d\xEDas?"),a.forEach(m),this.h()},h(){h(e,"class","svelte-19lctr0")},m(t,a){S(t,e,a),f(e,n)},p:M,i:M,o:M,d(t){t&&m(e)}}}function Ye(l){return[]}class Ze extends H{constructor(e){super(),L(this,e,Ye,Xe,F,{})}}function et(l){let e,n,t,a,i,s,o,r,c;return{c(){e=_("section"),n=_("strong"),t=C("El juego de Alice"),a=I(),i=_("p"),s=C("Este es el porcentaje de personas que salen del juego."),o=I(),r=_("p"),c=C("\xBFTe atreves a probar?"),this.h()},l(p){e=b(p,"SECTION",{class:!0});var u=E(e);n=b(u,"STRONG",{class:!0});var k=E(n);t=O(k,"El juego de Alice"),k.forEach(m),a=N(u),i=b(u,"P",{class:!0});var v=E(i);s=O(v,"Este es el porcentaje de personas que salen del juego."),v.forEach(m),o=N(u),r=b(u,"P",{class:!0});var $=E(r);c=O($,"\xBFTe atreves a probar?"),$.forEach(m),u.forEach(m),this.h()},h(){h(n,"class","svelte-1k0p8pa"),h(i,"class","svelte-1k0p8pa"),h(r,"class","svelte-1k0p8pa"),h(e,"class","svelte-1k0p8pa")},m(p,u){S(p,e,u),f(e,n),f(n,t),f(e,a),f(e,i),f(i,s),f(e,o),f(e,r),f(r,c)},p:M,i:M,o:M,d(p){p&&m(e)}}}function tt(l){return[]}class nt extends H{constructor(e){super(),L(this,e,tt,et,F,{})}}function ye(l){let e,n,t,a;const i=[at,st],s=[];function o(r,c){return r[0].attributes.loading?0:1}return e=o(l),n=s[e]=i[e](l),{c(){n.c(),t=X()},l(r){n.l(r),t=X()},m(r,c){s[e].m(r,c),S(r,t,c),a=!0},p(r,c){let p=e;e=o(r),e===p?s[e].p(r,c):(se(),B(s[p],1,1,()=>{s[p]=null}),ae(),n=s[e],n?n.p(r,c):(n=s[e]=i[e](r),n.c()),j(n,1),n.m(t.parentNode,t))},i(r){a||(j(n),a=!0)},o(r){B(n),a=!1},d(r){s[e].d(r),r&&m(t)}}}function st(l){let e,n,t,a,i,s,o,r,c,p,u,k,v,$,y,T,w,d,q,g;return n=new xe({props:{size:"small"}}),o=new Ze({}),c=new Be({}),u=new Ae({}),{c(){e=_("section"),A(n.$$.fragment),t=I(),a=_("h1"),i=C("El juego de Alice"),s=I(),A(o.$$.fragment),r=I(),A(c.$$.fragment),p=I(),A(u.$$.fragment),k=I(),v=_("button"),$=C("remove me"),y=I(),T=_("button"),w=C("Cerrar"),this.h()},l(x){e=b(x,"SECTION",{class:!0});var z=E(e);R(n.$$.fragment,z),t=N(z),a=b(z,"H1",{});var D=E(a);i=O(D,"El juego de Alice"),D.forEach(m),s=N(z),R(o.$$.fragment,z),r=N(z),R(c.$$.fragment,z),p=N(z),R(u.$$.fragment,z),k=N(z),v=b(z,"BUTTON",{});var Q=E(v);$=O(Q,"remove me"),Q.forEach(m),y=N(z),T=b(z,"BUTTON",{});var Y=E(T);w=O(Y,"Cerrar"),Y.forEach(m),z.forEach(m),this.h()},h(){h(e,"class","fullheight svelte-169vb6q")},m(x,z){S(x,e,z),V(n,e,null),f(e,t),f(e,a),f(a,i),f(e,s),V(o,e,null),f(e,r),V(c,e,null),f(e,p),V(u,e,null),f(e,k),f(e,v),f(v,$),f(e,y),f(e,T),f(T,w),d=!0,q||(g=[P(v,"click",l[3]),P(T,"click",l[2])],q=!0)},p:M,i(x){d||(j(n.$$.fragment,x),j(o.$$.fragment,x),j(c.$$.fragment,x),j(u.$$.fragment,x),d=!0)},o(x){B(n.$$.fragment,x),B(o.$$.fragment,x),B(c.$$.fragment,x),B(u.$$.fragment,x),d=!1},d(x){x&&m(e),G(n),G(o),G(c),G(u),q=!1,Z(g)}}}function at(l){let e,n,t,a;const i=[lt,rt],s=[];function o(r,c){var p;return r[0].createdBy==((p=r[1])==null?void 0:p.name)?0:1}return e=o(l),n=s[e]=i[e](l),{c(){n.c(),t=X()},l(r){n.l(r),t=X()},m(r,c){s[e].m(r,c),S(r,t,c),a=!0},p(r,c){let p=e;e=o(r),e===p?s[e].p(r,c):(se(),B(s[p],1,1,()=>{s[p]=null}),ae(),n=s[e],n?n.p(r,c):(n=s[e]=i[e](r),n.c()),j(n,1),n.m(t.parentNode,t))},i(r){a||(j(n),a=!0)},o(r){B(n),a=!1},d(r){s[e].d(r),r&&m(t)}}}function rt(l){let e,n;return e=new He({}),{c(){A(e.$$.fragment)},l(t){R(e.$$.fragment,t)},m(t,a){V(e,t,a),n=!0},p:M,i(t){n||(j(e.$$.fragment,t),n=!0)},o(t){B(e.$$.fragment,t),n=!1},d(t){G(e,t)}}}function lt(l){var k;let e,n,t=((k=l[1])==null?void 0:k.name)+"",a,i,s,o,r,c,p,u;return s=new nt({}),r=new Je({}),p=new We({}),{c(){e=_("h1"),n=C("Hola "),a=C(t),i=I(),A(s.$$.fragment),o=I(),A(r.$$.fragment),c=I(),A(p.$$.fragment)},l(v){e=b(v,"H1",{});var $=E(e);n=O($,"Hola "),a=O($,t),$.forEach(m),i=N(v),R(s.$$.fragment,v),o=N(v),R(r.$$.fragment,v),c=N(v),R(p.$$.fragment,v)},m(v,$){S(v,e,$),f(e,n),f(e,a),S(v,i,$),V(s,v,$),S(v,o,$),V(r,v,$),S(v,c,$),V(p,v,$),u=!0},p(v,$){var y;(!u||$&2)&&t!==(t=((y=v[1])==null?void 0:y.name)+"")&&ie(a,t)},i(v){u||(j(s.$$.fragment,v),j(r.$$.fragment,v),j(p.$$.fragment,v),u=!0)},o(v){B(s.$$.fragment,v),B(r.$$.fragment,v),B(p.$$.fragment,v),u=!1},d(v){v&&m(e),v&&m(i),G(s,v),v&&m(o),G(r,v),v&&m(c),G(p,v)}}}function it(l){var a;let e,n,t=((a=l[0])==null?void 0:a.uniqueName)&&ye(l);return{c(){t&&t.c(),e=X()},l(i){t&&t.l(i),e=X()},m(i,s){t&&t.m(i,s),S(i,e,s),n=!0},p(i,[s]){var o;(o=i[0])!=null&&o.uniqueName?t?(t.p(i,s),s&1&&j(t,1)):(t=ye(i),t.c(),j(t,1),t.m(e.parentNode,e)):t&&(se(),B(t,1,1,()=>{t=null}),ae())},i(i){n||(j(t),n=!0)},o(i){B(t),n=!1},d(i){t&&t.d(i),i&&m(e)}}}function ot(l,e,n){let t,a,i;J(l,U,u=>n(0,t=u)),J(l,qe,u=>n(6,a=u)),J(l,le,u=>n(1,i=u)),$e(async()=>{const u=localStorage.user?JSON.parse(localStorage.user):{};le.set(u),i&&Ce({accessToken:i.token}),await s({room:a.params.room})?(t.on("updated",v=>{U.set(v.conversation)}),t.on("participantJoined",v=>{const $=t.attributes.invitations||[];$.includes(v.identity)&&ne({room:t.uniqueName,params:{...t.attributes,invitations:$.filter(y=>y!=v.identity)}}),U.set(v.conversation)}),t.on("participantLeft",v=>{setTimeout(()=>{s({room:a.params.room})},500)})):W("/nuevo-juego")});async function s({room:u}){const k=await Ie({room:u});return k||(c?W("/game-over"):o?W("/win"):W("/nuevo-juego")),U.set(k),k}let o=!1;async function r(u){u.preventDefault(),o=!0,await Ne({room:t.uniqueName}),W("/win")}let c=!1;async function p(u){u.preventDefault(),c=!0,await Te({room:t.uniqueName}),W("/game-over")}return[t,i,r,p]}class mt extends H{constructor(e){super(),L(this,e,ot,it,F,{})}}export{mt as default};
